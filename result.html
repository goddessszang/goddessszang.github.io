<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HYANZ 결과</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="container">
      <!-- 결과 이미지 -->
      <img id="result-img" class="hero-image" src="" alt="결과 캐릭터" />

      <!-- 결과 알파벳 및 설명 -->
      <h2 id="result-type">당신의 감정은 ...</h2>
      <p id="result-description"></p>

      <!-- 다시 테스트하기 버튼 -->
      <div class="result-buttons">
        <button class="retry" onclick="goHome()">다시 테스트하기</button>
        <button class="share" onclick="shareResult()">공유하기</button>
      </div>
    </main>

    <script>
      // URL에서 type 파라미터 가져오기
      const params = new URLSearchParams(window.location.search);
      const type = params.get("type"); // H, Y, A, N, Z

      // 결과 데이터
      const results = {
        H: {
          img: "images/h.png",
          title: "희한함 (H)",
          description:
            "당신은 묘하게 끌리는 희한한 감정의 소유자! 설명하기 어려운 감정도 당신에겐 자연스러워요.",
        },
        Y: {
          img: "images/y.png",
          title: "자기애 (Y)",
          description:
            "당신은 사랑스러운 자신을 잘 아는 사람! 예쁘고 감각적인 감정을 공유할 줄 아는 타입이에요.",
        },
        A: {
          img: "images/a.png",
          title: "대담함 (A)",
          description:
            "당신은 도전 앞에서 물러서지 않는 감정 리더! 감정도 행동으로 표현하는 타입이에요.",
        },
        N: {
          img: "images/n.png",
          title: "생기 (N)",
          description:
            "당신은 에너지가 넘치는 생기 캐릭터! 분위기를 환하게 밝히는 감정 전달자예요.",
        },
        Z: {
          img: "images/z.png",
          title: "엉뚱함 (Z)",
          description:
            "당신은 생각도 감정도 자유로운 엉뚱한 감성캐! 예상 못한 감정표현이 매력이에요.",
        },
      };

      // 결과 보여주기
      if (type && results[type]) {
        const result = results[type];
        document.getElementById("result-img").src = result.img;
        document.getElementById("result-type").innerText = result.title;
        document.getElementById("result-description").innerText =
          result.description;
      }
      // 👉 다시 테스트하기
      function goHome() {
        window.location.href = "index.html";
      }
      // ✅ 여기! 공유하기 함수 추가
      function shareResult() {
        const shareData = {
          title: "What’s Your HYANZ?",
          text: `${results[type].title} 캐릭터래! 당신의 감정은 어떤 알파벳일까?`,
          url: window.location.href,
        };

        if (navigator.share) {
          navigator.share(shareData).catch((err) => {
            console.error("공유 실패:", err);
          });
        } else {
          alert("현재 브라우저는 공유 기능을 지원하지 않아요 😢");
        }
      }
    </script>
  </body>
</html>
